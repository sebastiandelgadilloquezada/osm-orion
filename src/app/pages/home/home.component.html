<div class="map-container">
    <div class="map-frame">
      <div id="map"></div>
      <div *ngIf="actInfo" class="informacion">
        <div style="width: 100%;">
          <div class="card-body">
            <h6 class="card-title">
              <img src="{{ info.img }}" width="30">
              {{ info.address }} {{ info.patente }}</h6>
              <hr>
              {{ info.data }}
            <p class="card-text"><b>lat:</b>  {{info.lat}} <b>lng:</b> {{ info.lng}}</p>
            <div class="info_fotos">
              <img src="assets/thumbs/1.jpg">
              <img src="assets/thumbs/2.jpg">
              <img src="assets/thumbs/3.jpg">
              <img src="assets/thumbs/4.jpg">
              <img src="assets/thumbs/5.jpg">
              <img src="assets/thumbs/6.jpg">
            </div>

            <div class="btn_cerrar_info"><button class="btn btn-outline-secondary btn-sm" (click)="cerrar_info()">Cerrar</button></div>
          </div>
        </div>
      </div>
      <div class="car_red">
        <img src="assets/car_red.png" (click)="startCar()">
      </div>
      <div class="cont-capas" [ngClass]="actCapa? 'expand': 'noexpand'">
        <div class="capa" (click)="expandirCapa()">
          <img src="assets/capa.png">
        </div>
        <div class="capa" (click)="setMap('events')">
          <svg [ngClass]="capaEvent? 'hab':'nohab'" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M19.5099 5.85L13.5699 2.42C12.5999 1.86 11.3999 1.86 10.4199 2.42L4.48992 5.85C3.51992 6.41 2.91992 7.45 2.91992 8.58V15.42C2.91992 16.54 3.51992 17.58 4.48992 18.15L10.4299 21.58C11.3999 22.14 12.5999 22.14 13.5799 21.58L19.5199 18.15C20.4899 17.59 21.0899 16.55 21.0899 15.42V8.58C21.0799 7.45 20.4799 6.42 19.5099 5.85ZM11.2499 7.75C11.2499 7.34 11.5899 7 11.9999 7C12.4099 7 12.7499 7.34 12.7499 7.75V13C12.7499 13.41 12.4099 13.75 11.9999 13.75C11.5899 13.75 11.2499 13.41 11.2499 13V7.75ZM12.9199 16.63C12.8699 16.75 12.7999 16.86 12.7099 16.96C12.5199 17.15 12.2699 17.25 11.9999 17.25C11.8699 17.25 11.7399 17.22 11.6199 17.17C11.4899 17.12 11.3899 17.05 11.2899 16.96C11.1999 16.86 11.1299 16.75 11.0699 16.63C11.0199 16.51 10.9999 16.38 10.9999 16.25C10.9999 15.99 11.0999 15.73 11.2899 15.54C11.3899 15.45 11.4899 15.38 11.6199 15.33C11.9899 15.17 12.4299 15.26 12.7099 15.54C12.7999 15.64 12.8699 15.74 12.9199 15.87C12.9699 15.99 12.9999 16.12 12.9999 16.25C12.9999 16.38 12.9699 16.51 12.9199 16.63Z" fill="#1C274C"></path> </g></svg>
        </div>
        <div class="capa" (click)="setMap('movil')">
          <svg [ngClass]="capaMovil? 'hab':'nohab'" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 14.803v6.447c0 .414.336.75.75.75h1.614a.75.75 0 0 0 .74-.627L5.5 19h13l.395 2.373a.75.75 0 0 0 .74.627h1.615a.75.75 0 0 0 .75-.75v-6.447a5.954 5.954 0 0 0-1-3.303l-.78-1.17a1.994 1.994 0 0 1-.178-.33h.994a.75.75 0 0 0 .671-.415l.25-.5A.75.75 0 0 0 21.287 8H19.6l-.31-1.546a2.5 2.5 0 0 0-1.885-1.944C15.943 4.17 14.141 4 12 4c-2.142 0-3.943.17-5.405.51a2.5 2.5 0 0 0-1.886 1.944L4.399 8H2.714a.75.75 0 0 0-.67 1.085l.25.5a.75.75 0 0 0 .67.415h.995a1.999 1.999 0 0 1-.178.33L3 11.5c-.652.978-1 2.127-1 3.303zm15.961-4.799a4 4 0 0 0 .34.997H5.699c.157-.315.271-.65.34-.997l.632-3.157a.5.5 0 0 1 .377-.39C8.346 6.157 10 6 12 6c2 0 3.654.156 4.952.458a.5.5 0 0 1 .378.389l.631 3.157zM5.5 16a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM20 14.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" fill="#1C274C"></path></g></svg>
        </div>
      </div>
      <div class="input_controls">
        <div class="input-group mb-3">  
          <input type="text" (change)="revisarTxt()" name="search" [(ngModel)]="txtSearch" placeholder="" class="form-control" id="myInputId" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <div *ngIf="txtSelect != ''" class="dropdown-menu menu" aria-labelledby="myInputId">
              <a class="dropdown-item" (click)="getMarker(item.geometry.location, item.formatted_address)"  *ngFor="let item of txtSelect">{{ item.formatted_address }}</a>
          </div>
          <div *ngIf="wresult" class="dropdown-menu menu" aria-labelledby="myInputId">
            <a class="dropdown-item"> Sin resultados </a>
        </div>
          
          <button class="btn btn-light p-2" (click)="buscar()">
            <svg width="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M11 6C13.7614 6 16 8.23858 16 11M16.6588 16.6549L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
          </button>
        </div>
      </div>
    </div>
</div>

<div *ngIf="actModal" class="modal_map">
  <form #loginForm="ngForm" class="mt-10" (ngSubmit)="loginForm.valid;  loginForm.resetForm()">
  <div class="modal-info" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Agregar evento</h5>
        <br><br>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <span class="form-label" id="basic-addon3">Tipo evento</span>
          <div class="input-group mb-3">
            <select 
              class="form-control" 
              name="selTxt" 
              [(ngModel)]="evento.title"
              >
              @for (item of itemsTipo; track $index) {
                <option value="{{ item.tipo }}">{{item.tipo}}</option>
              }
            </select>
          </div>

          <span class="form-label" id="basic-addon3">Posici√≥n</span>
          <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Lat:</span>
            <input type="text"  name="lat"class="form-control" [(ngModel)]="evento.lat"><br>
            <span class="input-group-text" id="basic-addon3">Long</span>
            <input type="text" name="lng" class="form-control" [(ngModel)]="evento.lng">
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn fondo_inst" (click)="saveMarker()">Guardar</button>
        <button type="button" class="btn btn-secondary" (click)="closeModal()" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</form>
</div>

  
 

